id: tmg-rocksdb
region: sa-east-1
os_name: ubuntu-jammy
os_version: 22.04
use_spot_instances: true
emqx:
  instance_type: t3.large
  cpu_arch: amd64
  dashboard_default_password: admin
  data_volume_size: 30
  data_dir: /data/emqx
  session_persistence: true
  session_persistence_builtin: true
  session_persistence_cache_enabled: true
  session_persistence_cache_topic_filters: ["t/#"]
  install_source: package
  package_file_path: "/home/thales/dev/emqx/emqx5-ubuntu/_packages/emqx/emqx-5.5.0-g6a58997b-elixir-ubuntu22.04-amd64.deb"
  extra_volumes:
    - mount_point: /data
      volume_size: 30
      volume_type: gp3
      mount_options: defaults,noatime,discard
  nodes:
    - role: core
      instance_count: 3
emqttb:
  instance_type: t3.large
  cpu_arch: amd64
  nodes:
    - scenario: "@pub --topic t/%%n --conninterval 1ms --pubinterval 1s --num-clients\
        \ 1000 --size 1kb --loiter 10min"
    - scenario: "@sub --clean-start false --expiry 30 --topic t/# --conninterval 1ms\
        \ --num-clients 1000 --loiter 10min"
